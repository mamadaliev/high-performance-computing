# 07
Лабораторные работы 7.1 и 7.2. Вариант 8.<br>
Студент группы 3540904/10102:<br>
Мамадалиев Шерзод Рустам угли

## 7.1
Найти проблему в следующем исходном коде.

C:
```txt
01     double a[N], b[N];
02     a[0] = 2;
03
04 #pragma omp parallel for nowait
05     for (int i = 1; i < N; i++) {
06         a[i] = a[i - 1] * a[i - 1];
07         b[i] = a[i] + 1;
08         printf("1\n");
09     }
10     b[0] = a[N - 1];
```

### Ответы
1. При компиляции данную программу, получим синтаксическую ошибку.
2. Правильнее использовать parallel и nowait разных блоках как показано в спецификации языка.
3. Если даже использовать nowait в данной программе, то получим состояние гонок (race condition) в 10 строке.
<br>

## 7.2
**Порядок выполнения лабораторной работы:**
1. Разработать и реализовать алгоритм решения задания с помощью по-
следовательной программы и протестировать его на нескольких примерах.
2. Разработать алгоритм решения задания, с учетом разделения вычис-
лений между несколькими потоками. Избегать ситуаций изменения одних и
тех же общих данных несколькими потоками. Составить схему потоков.
3. Реализовать алгоритм в среде OpenMP и протестировать его на не-
скольких примерах.

Используя формулы Крамера, найти решение системы линейных
уравнений.
![Screenshot from 2021-09-04 23-03-37](https://user-images.githubusercontent.com/32206555/133014569-885eac2f-fffa-4cb7-876e-b88ba3e4f90c.png)

Предусмотреть возможность деления на ноль. Входные данные: коэф-
фициенты системы. Оптимальное количество потоков выбрать самостоя-
тельно.

### Тестирование
#### Проверка 1. С помощью онлайн калькулятора.
https://matworld.ru/calculator/kramer-method-online.php

Входные данные:<br>
1, 3, 5, 7, 12<br>
3, 5, 7, 1, 0<br>
5, 7, 1, 3, 4<br>
7, 1, 3, 5, 16<br>

Корни: 1, -1, 0, 2<br>

#### Проверка 2. С помощью примера из интернета с подробным решением.
https://math.semestr.ru/kramer/prim1.php

Входные данные:<br>
2, 5, 4, 1, 20<br>
1, 3, 2, 1, 11<br>
2, 10, 9, 9, 40<br>
3, 8, 9, 2, 37<br>

Корни: 1, 2, 2, 0

### Демонстрация работы
![demo](https://user-images.githubusercontent.com/32206555/133344715-12d70a42-20d9-4d5e-b6f5-156d8ff80471.png)

### Схема работы потоков
![Screenshot from 2021-09-15 20-34-11](https://user-images.githubusercontent.com/32206555/133481860-8d6629cf-fbe4-4d5d-a581-2abad86ec7cb.png)
![Screenshot from 2021-09-15 20-34-24](https://user-images.githubusercontent.com/32206555/133481868-676b842b-d63b-4fc1-af16-afc1726ac71b.png)

*Замечание: Схема работы Open MP аналогично со схемой Pthread.*
<!-- ![Screenshot from 2021-09-15 20-37-40](https://user-images.githubusercontent.com/32206555/133482331-19e4b822-9ff1-4df6-9b2d-e2758af9dc04.png) -->
