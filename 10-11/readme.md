# 10-11
Лабораторная работа 10-11. Вариант 8.<br>
Студент группы 3540904/10102:<br>
Мамадалиев Шерзод Рустам угли

## Цели и задачи
- Изучить различные групповые функции MPI. 
- Сравнить реализацию коллективных обменов с помощью групповых функций и с помощью двухточечных обменов.

**Время: 4 часа**

## Порядок выполнения
1. Реализовать алгоритм решения задания с использованием функций
коллективного обмена в MPI, замерить время выполнения программы, если
возможно, вычислить эффективность.

2. Реализовать алгоритм решения задания с использованием функций
двухточечного обмена в MPI. Отладить программу. Замерить время выполнения программы, если возможно, вычислить эффективность.

3. Сравнить эффективность реализаций, построить графики, сделать выводы.

## Как запустить?
Команда для компиляции:
```
mpicc my_allgather.c -o custom_allgather
```

### Команды для запуска программы

**Вариант 1**

Создать файл `hostfile` со следующим содержанием.
```
localhost slots=16
```

В команде для запуска указать флаг `--hostfile` и название файла.
```
mpirun --hostfile hostfile -np 16 ./custom_allgather
```

**Вариант 2**

В команде для запуска указать `--oversubscribe`.
```
mpirun -n 16 --oversubscribe ./custom_allgather
```

Вывод:
```
Process 0:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 1:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 5:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 7:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 4:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 6:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 2:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 3:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 8:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 9:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 10:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 11:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 15:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 12:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 13:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30
Process 14:  0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30

Total time: 0.00442434
```

## Демонстрация работы
![Screenshot from 2021-09-20 01-13-16](https://user-images.githubusercontent.com/32206555/133944666-1a4af395-a924-4db6-9031-c8d49bd33d1e.png)

## Анализ эфективности
![Screenshot from 2021-09-20 02-03-34](https://user-images.githubusercontent.com/32206555/133945757-794733e3-d872-4c06-89e6-bc5466648154.png)

## Выводы
- Процедура MPI_Allgather позволяет реализовать сбор данных из всех процессов группы и размещать результат во всех процессах группы.
- В ходе анализа эфективности выяснилось, что время работы ручной реализации и реализация процедуры MPI_Allgather от Open MPI примерно одинаковы.
