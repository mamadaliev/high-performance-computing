# 12. Решение прикладных задач с помощью MPI
Лабораторная работа 12. Вариант 7.<br>
Студент группы 3540904/10102:<br>
Мамадалиев Шерзод Рустам угли

## Цели и задачи
Разработать алгоритм, реализовать и отладить параллельную программу для одной из задач линейной алгебры, 
вычислительной математики, обработки изображений или комбинаторики с помощью библиотеки MPI.

**Время: 6 часов**

## Порядок выполнения
**Задача о вычислении произведения матриц-3.**

Даны матрицы A размерностью n1 строк на n2 столбцов и матрица B размерностью n2 строк на n3 столбцов. Исходные данные хранятся в файлах на диске, подготовленные для каждого процессора (написать последовательную программу подготовки данных, входным параметром которой является число процессоров). Написать программу для p процессоров (2<=p<<n1,n2,n3 , p%n1, p%n2, p%n3 = 0), вычисляющую произведение матриц AB, собирающую результат в 0-м процессоре, который сбрасывает его в файл. Распределение нагрузки на процессоры провести наиболее удобным способом. Использовать алгоритм с топологией «3D-решетка» и парадигмой управляющий-рабочий (в начале программы 0-й процессор считывает все данные и распределяет по процессорам).

## Команды для компиляции и запуска
Команда для компиляции:
```
mpicc parallel_matrix_multiplication.cpp
```

Команда для запуска:
```
mpirun -n 4 ./a.out
```

Команда для запуска с большим количеством процессов:
```
mpirun -n 16 --oversubscribe ./a.out
```

## Архитектура программы
Программа реализована на основе парадигмы "Master-Worker" (управляющий-рабочий).
Она считывает из файла `in.txt` данные и инициализирует, отправляет на вычисление произведение матриц AB по рабочим процессорам с топологией "3D решетка" и принимает результаты вычислений, собирая результат в 0-м процессе, который сбрасывает его в файл `out.txt`.
![lab12](https://user-images.githubusercontent.com/32206555/135412311-b8c245cc-a172-48a4-bd86-34bb81aaafaf.png)

## Демонстрация работы программы
#### Работа программы без MPI
![Screenshot from 2021-09-30 12-09-15](https://user-images.githubusercontent.com/32206555/135423529-50f0f011-e3ce-4170-bc6a-4056e59d3569.png)

#### Работа программы c MPI (n=4)
![Screenshot from 2021-09-30 12-09-50](https://user-images.githubusercontent.com/32206555/135423556-c500a319-8085-48a9-baf0-a430feaa9602.png)

#### Работа программы c MPI (n=16)
![Screenshot from 2021-09-30 12-16-07](https://user-images.githubusercontent.com/32206555/135424744-1506e7f9-dd56-403e-bdb7-579c1a740c5f.png)

#### Проверка данных
![Screenshot from 2021-09-30 12-12-37](https://user-images.githubusercontent.com/32206555/135424101-76203486-476a-4d99-9279-aa27f212a9f0.png)
